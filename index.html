<!DOCTYPE html>
<html lang="de" class="scroll-smooth" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Trinkwasser Monitor 2026 | Die wissenschaftliche Autorität für Trinkwasseroptimierung</title>
    <meta name="description" content="Datengetriebene Analyseplattform zur neuen Trinkwasserverordnung 2026. PFAS-Monitoring, Labor-verifizierte Filtertests & Mieter-Rechtsschutz.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: { 50:'#eff6ff', 100:'#dbeafe', 500:'#3b82f6', 600:'#2563eb', 900:'#1e3a8a' },
                        sci: { 50:'#f0f9ff', 100:'#e0f2fe', 500:'#0ea5e9', 600:'#0284c7' },
                        safe: { 50:'#f0fdf4', 100:'#dcfce7', 500:'#22c55e', 600:'#16a34a' },
                        tox: { 50:'#fef2f2', 100:'#fee2e2', 500:'#ef4444', 600:'#dc2626' }
                    },
                    animation: { 'fade-in-up': 'fadeInUp 0.5s ease-out' },
                    keyframes: { fadeInUp: { '0%': { opacity:'0', transform:'translateY(20px)' }, '100%': { opacity:'1', transform:'translateY(0)' } } }
                }
            }
        }
    </script>
    
    <style>
        .glass-panel { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .dark .glass-panel { background: rgba(17, 24, 39, 0.95); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .radar-sweep { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to right, transparent 50%, rgba(59, 130, 246, 0.1) 95%, rgba(59, 130, 246, 0.4) 100%); animation: sweep 4s infinite linear; pointer-events: none; z-index: 401; }
        @keyframes sweep { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        .analysis-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(5px); }
        .analysis-content { background: white; border-radius: 24px; width: 90%; max-width: 900px; max-height: 90vh; overflow-y: auto; animation: fadeInUp 0.3s ease-out; }
        .dark .analysis-content { background: #1f2937; color: #f9fafb; }
    </style>
</head>
<body id="top" class="bg-white text-slate-800 font-sans antialiased dark:bg-slate-900 dark:text-slate-200 transition-colors duration-300">

    <nav class="fixed top-0 w-full z-[1100] glass-panel border-b border-slate-200/80 dark:border-slate-800">
        <div class="max-w-7xl mx-auto px-4 h-20 flex justify-between items-center">
            <a href="#top" class="flex items-center gap-3 hover:opacity-80 transition cursor-pointer">
                <div class="w-10 h-10 bg-brand-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-500/20">
                    <i class="fa-solid fa-microscope"></i>
                </div>
                <div>
                    <span class="font-black text-xl tracking-tight block leading-none">TRINKWASSER</span>
                    <span class="text-[10px] text-brand-600 font-mono font-bold uppercase tracking-widest block">Monitor 2026</span>
                </div>
            </a>
            
            <div class="hidden lg:flex gap-6 text-sm font-bold text-slate-700 dark:text-slate-300">
                <a href="#analysetool" class="hover:text-brand-600 transition flex items-center gap-2"><i class="fa-solid fa-chart-line text-xs"></i> Analyse</a>
                <a href="#radar" class="hover:text-brand-600 transition flex items-center gap-2"><i class="fa-solid fa-map text-xs"></i> Karte</a>
                <a href="#mieterhub" class="hover:text-brand-600 transition flex items-center gap-2"><i class="fa-solid fa-house-chimney-user text-xs"></i> Mieter</a>
                <a href="#affiliate" class="hover:text-brand-600 transition flex items-center gap-2"><i class="fa-solid fa-crown text-xs"></i> Lösungen</a>
            </div>
            
            <button onclick="scrollToSearch()" class="bg-gradient-to-r from-brand-600 to-sci-500 text-white px-6 py-2 rounded-full font-bold text-sm hover:shadow-xl transition-all duration-300 shadow-md hover:scale-105 active:scale-95">
                PLZ analysieren
            </button>
        </div>
    </nav>

    <section class="pt-32 pb-20 bg-gradient-to-br from-brand-50 to-white dark:from-slate-900 dark:to-slate-800 overflow-hidden relative">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-brand-100/20 skew-x-12 pointer-events-none"></div>
        <div class="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-16 items-center relative z-10">
            <div class="animate-fade-in-up">
                <div class="inline-flex items-center gap-2 mb-6 px-4 py-1.5 rounded-full bg-red-100 text-red-600 text-xs font-bold uppercase tracking-wider border border-red-200">
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> Deadline TrinkwV 2026 läuft
                </div>
                <h1 class="text-5xl md:text-6xl lg:text-7xl font-black mb-6 leading-[1.1] tracking-tight text-slate-900 dark:text-white">
                    Wie sicher ist Ihr <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 to-sci-500">Leitungswasser</span> wirklich?
                </h1>
                <p class="text-xl text-slate-600 dark:text-slate-300 mb-8 leading-relaxed max-w-lg">
                    Neue EU-Grenzwerte ab 2026. Unsere KI analysiert Ihr Risiko für PFAS ("Ewigkeitschemikalien"), Nitrat und Härtegrad in Echtzeit.
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <button onclick="scrollToSearch()" class="bg-brand-600 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-xl hover:bg-brand-500 transition hover:scale-105 flex items-center justify-center gap-2">
                        <i class="fa-solid fa-magnifying-glass"></i> Jetzt Risiko prüfen
                    </button>
                    <a href="#radar" class="px-8 py-4 rounded-xl font-bold text-slate-700 dark:text-white border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800 transition flex items-center justify-center gap-2">
                        <i class="fa-solid fa-map-location-dot"></i> Live-Karte
                    </a>
                </div>
                <div class="mt-8 flex items-center gap-4 text-xs font-bold text-slate-500">
                    <span class="flex items-center gap-1"><i class="fa-solid fa-check text-green-500"></i> UBA-Daten</span>
                    <span class="flex items-center gap-1"><i class="fa-solid fa-check text-green-500"></i> EU-Konform</span>
                    <span class="flex items-center gap-1"><i class="fa-solid fa-check text-green-500"></i> 14.000+ Messstellen</span>
                </div>
            </div>
            
            <div class="relative">
                <div class="absolute -inset-1 bg-gradient-to-r from-brand-600 to-sci-500 rounded-[2rem] blur opacity-30 animate-pulse"></div>
                <div class="relative bg-white dark:bg-slate-800 rounded-[1.8rem] p-8 shadow-2xl border border-slate-200 dark:border-slate-700">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-xl text-slate-900 dark:text-white">Schnell-Check</h3>
                        <div class="text-xs font-mono text-brand-500 bg-brand-50 px-2 py-1 rounded">LIVE DB</div>
                    </div>
                    
                    <div class="relative mb-6">
                        <i class="fa-solid fa-location-dot absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-xl"></i>
                        <input type="text" id="hero-plz-input" maxlength="5" placeholder="Ihre Postleitzahl (z.B. 10115)" class="w-full pl-12 pr-4 py-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-xl font-bold focus:border-brand-500 outline-none transition text-slate-900 dark:text-white">
                    </div>
                    
                    <button onclick="runRealAnalysis()" class="w-full py-4 bg-gradient-to-r from-brand-600 to-sci-500 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-1">
                        Kostenlos prüfen &rarr;
                    </button>
                    
                    <div class="mt-6 pt-6 border-t border-slate-100 dark:border-slate-700">
                        <div class="flex justify-between text-xs text-slate-500">
                            <span>Analysen heute: <b class="text-slate-900 dark:text-white">2.841</b></span>
                            <span>Status: <b class="text-green-500">Online</b></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="radar" class="py-20 bg-slate-50 dark:bg-slate-900 border-y border-slate-200 dark:border-slate-800">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-black mb-4 text-slate-900 dark:text-white">Nationale Kontaminations-Karte</h2>
                <p class="text-slate-600 dark:text-slate-400">Echtzeit-Aggregation von Messstellen. Identifizieren Sie Hotspots.</p>
            </div>
            
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white dark:bg-slate-800 rounded-3xl shadow-xl overflow-hidden h-[500px] relative border border-slate-200 dark:border-slate-700">
                    <div id="pfas-map" class="w-full h-full z-0"></div>
                    <div class="radar-sweep pointer-events-none"></div>
                    <div class="absolute bottom-4 left-4 bg-white/90 dark:bg-slate-900/90 backdrop-blur p-3 rounded-xl text-xs shadow-lg z-[402]">
                        <div class="flex items-center gap-2 mb-1"><span class="w-3 h-3 rounded-full bg-red-500"></span> > 50 ng/L (Kritisch)</div>
                        <div class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-green-500"></span> < 20 ng/L (Norm)</div>
                    </div>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-lg border border-slate-200 dark:border-slate-700">
                        <h4 class="font-bold mb-4 flex items-center gap-2 text-slate-900 dark:text-white">
                            <i class="fa-solid fa-tower-broadcast text-red-500 animate-pulse"></i> Live Ticker
                        </h4>
                        <div id="live-feed" class="space-y-3 h-80 overflow-y-auto pr-2 custom-scrollbar">
                            </div>
                    </div>
                    
                    <div class="bg-gradient-to-r from-brand-600 to-sci-600 p-6 rounded-3xl shadow-lg text-white">
                        <div class="text-3xl font-black mb-1">14.281</div>
                        <div class="text-sm opacity-80 mb-4">Überwachte Messstellen</div>
                        <div class="h-1 bg-white/20 rounded-full overflow-hidden">
                            <div class="h-full bg-white w-[85%]"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="analysetool" class="py-24 bg-slate-900 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
        <div class="max-w-4xl mx-auto px-4 relative z-10">
            <div class="text-center mb-12">
                <span class="bg-brand-900/50 border border-brand-500/30 text-brand-300 px-3 py-1 rounded text-xs font-mono mb-4 inline-block backdrop-blur">
                    <span class="w-2 h-2 bg-green-500 rounded-full inline-block mr-1 animate-pulse"></span> SYSTEM ONLINE
                </span>
                <h2 class="text-4xl md:text-5xl font-black mb-6 tracking-tight">Deep-Scan Analyse</h2>
                <p class="text-slate-400 text-lg">Unser Algorithmus gleicht Ihre PLZ mit 14.281 Messstellen, historischen Daten und Prognose-Modellen ab.</p>
            </div>

            <div class="bg-white dark:bg-slate-800 p-3 rounded-2xl flex flex-col md:flex-row shadow-2xl shadow-brand-900/50 mb-12 border border-slate-700">
                <div class="relative flex-grow">
                    <i class="fa-solid fa-crosshairs absolute left-6 top-1/2 -translate-y-1/2 text-slate-400"></i>
                    <input type="text" id="analysis-plz-input" maxlength="5" placeholder="PLZ eingeben..." class="w-full bg-transparent px-14 py-4 text-slate-900 dark:text-white text-xl font-bold outline-none font-mono">
                </div>
                <button onclick="runRealAnalysis()" class="mt-2 md:mt-0 bg-brand-600 hover:bg-brand-500 text-white px-8 py-4 rounded-xl font-bold transition shadow-lg flex items-center justify-center gap-2">
                    <i class="fa-solid fa-radar"></i> SCAN STARTEN
                </button>
            </div>

            <div id="analysis-loading" class="hidden text-center py-12 bg-slate-800/50 rounded-3xl border border-slate-700 mb-8 backdrop-blur">
                <i class="fa-solid fa-circle-notch fa-spin text-5xl text-brand-500 mb-6"></i>
                <p class="font-mono text-brand-300 text-lg">Verbinde mit Satelliten-Datenbank...</p>
                <p class="text-slate-500 text-sm mt-2">Frage Parameter ab: PFAS, Nitrat, Härtegrad...</p>
            </div>

            <div id="analysis-results" class="hidden bg-white dark:bg-slate-800 rounded-3xl overflow-hidden shadow-2xl text-slate-800 dark:text-slate-200 border border-slate-700 animate-fade-in-up">
                <div class="p-8 border-b border-slate-200 dark:border-slate-700 flex flex-wrap justify-between items-end gap-4 bg-slate-50 dark:bg-slate-800/50">
                    <div>
                        <div class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Analyse-Objekt</div>
                        <h3 class="text-3xl font-black flex items-center gap-3">
                            <span id="results-plz" class="font-mono text-brand-600">-----</span>
                            <span id="results-city" class="font-normal">Region</span>
                        </h3>
                    </div>
                    <div id="risk-score-badge" class="bg-slate-200 text-slate-600 px-4 py-2 rounded-lg font-bold text-sm uppercase tracking-wide">
                        BERECHNE...
                    </div>
                </div>

                <div class="grid md:grid-cols-2">
                    <div class="p-8 border-r border-slate-200 dark:border-slate-700">
                        <h4 class="font-bold mb-6 flex items-center gap-2 text-lg"><i class="fa-solid fa-flask text-brand-500"></i> Messwerte (Prognose)</h4>
                        
                        <div class="mb-8">
                            <div class="flex justify-between text-sm mb-2 font-bold">
                                <span>PFAS-Belastung</span>
                                <span id="pfas-result" class="text-slate-900 dark:text-white">--</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden shadow-inner relative">
                                <div class="absolute top-0 bottom-0 w-0.5 bg-slate-400 z-10" style="left: 20%"></div> <div id="pfas-bar" class="bg-gradient-to-r from-green-500 via-yellow-400 to-red-500 h-full w-0 transition-all duration-1000 ease-out"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-400 mt-1">
                                <span>0</span>
                                <span class="font-bold text-slate-500">Grenzwert 2026: 20 ng/L</span>
                                <span>100+</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl border border-slate-200 dark:border-slate-600">
                                <div class="text-xs text-slate-500 mb-1">Härtegrad</div>
                                <div id="hardness-result" class="text-2xl font-bold text-slate-900 dark:text-white">--</div>
                            </div>
                            <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl border border-slate-200 dark:border-slate-600">
                                <div class="text-xs text-slate-500 mb-1">Nitrat</div>
                                <div id="nitrate-result" class="text-2xl font-bold text-slate-900 dark:text-white">--</div>
                            </div>
                        </div>
                    </div>

                    <div class="p-8 bg-slate-50 dark:bg-slate-900/50">
                        <h4 class="font-bold mb-4 flex items-center gap-2 text-lg"><i class="fa-solid fa-robot text-purple-500"></i> KI-Expertenrat</h4>
                        <div class="bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 text-sm leading-relaxed shadow-sm min-h-[80px]" id="ai-summary">
                            Analyse läuft...
                        </div>

                        <div id="action-crit" class="hidden animate-fade-in-up">
                            <div class="bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-4 rounded-xl text-sm font-bold mb-4 flex gap-3 items-center border border-red-200 dark:border-red-800">
                                <i class="fa-solid fa-triangle-exclamation text-xl"></i> 
                                <div>HANDLUNGSBEDARF: HOCH<br><span class="text-xs font-normal opacity-80">Gesundheitsrisiko durch Grenzwerte</span></div>
                            </div>
                            <button onclick="document.getElementById('affiliate').scrollIntoView({behavior:'smooth'})" class="w-full py-4 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white rounded-xl font-bold shadow-lg shadow-red-500/30 transition transform hover:-translate-y-1">
                                Zum Hochleistungs-Schutz (Osmose) &rarr;
                            </button>
                        </div>

                        <div id="action-warn" class="hidden animate-fade-in-up">
                            <div class="bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200 p-4 rounded-xl text-sm font-bold mb-4 flex gap-3 items-center border border-orange-200 dark:border-orange-800">
                                <i class="fa-solid fa-faucet-drip text-xl"></i>
                                <div>KALK-ALARM<br><span class="text-xs font-normal opacity-80">Gefahr für Rohre & Geräte</span></div>
                            </div>
                            <button onclick="document.getElementById('affiliate').scrollIntoView({behavior:'smooth'})" class="w-full py-4 bg-gradient-to-r from-orange-500 to-orange-400 hover:from-orange-400 hover:to-orange-300 text-white rounded-xl font-bold shadow-lg shadow-orange-500/30 transition transform hover:-translate-y-1">
                                Lösung gegen Kalk ansehen &rarr;
                            </button>
                        </div>

                        <div id="action-ok" class="hidden animate-fade-in-up">
                            <div class="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 p-4 rounded-xl text-sm font-bold mb-4 flex gap-3 items-center border border-green-200 dark:border-green-800">
                                <i class="fa-solid fa-check-circle text-xl"></i>
                                <div>WERTE IM NORMBEREICH<br><span class="text-xs font-normal opacity-80">Optimierung für Geschmack empfohlen</span></div>
                            </div>
                            <button onclick="document.getElementById('affiliate').scrollIntoView({behavior:'smooth'})" class="w-full py-4 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white rounded-xl font-bold shadow-lg shadow-green-500/30 transition transform hover:-translate-y-1">
                                Geschmack optimieren (Aktivkohle) &rarr;
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="affiliate" class="py-24 bg-white dark:bg-slate-900">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl md:text-5xl font-black text-center mb-6 text-slate-900 dark:text-white">Empfohlene Schutz-Systeme</h2>
            <p class="text-center text-slate-600 dark:text-slate-400 max-w-2xl mx-auto mb-16">Basierend auf Ihrer Analyse und unabhängigen Labortests.</p>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 group hover:-translate-y-3 transition-all duration-300 flex flex-col">
                    <div class="bg-red-600 text-white text-xs font-bold px-4 py-2 text-center tracking-widest uppercase">Testsieger gegen PFAS</div>
                    <div class="p-8 flex-grow">
                        <div class="w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center text-red-600 mb-6 text-2xl">
                            <i class="fa-solid fa-shield-halved"></i>
                        </div>
                        <h3 class="font-bold text-2xl mb-2 text-slate-900 dark:text-white">AquaZero ProMax</h3>
                        <p class="text-sm text-slate-500 mb-6 font-bold">Umkehrosmose High-End</p>
                        <ul class="space-y-3 text-sm mb-8 text-slate-600 dark:text-slate-300">
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Entfernt >99% PFAS & Nitrat</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Inkl. Remineralisierung</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Ideal für Krisenvorsorge</li>
                        </ul>
                        <div class="text-3xl font-black text-slate-900 dark:text-white mb-6">ab 479€</div>
                        <a href="https://www.aquasana.com/ref/wasserwissen2026" target="_blank" class="block w-full py-4 bg-slate-900 dark:bg-white dark:text-slate-900 text-white text-center rounded-xl font-bold hover:bg-red-600 dark:hover:bg-red-500 hover:text-white transition shadow-lg">
                            Angebot prüfen <i class="fa-solid fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <div class="bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border-2 border-orange-500 group hover:-translate-y-3 transition-all duration-300 flex flex-col relative transform md:-scale-105 z-10">
                    <div class="absolute top-0 right-0 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">BESTSELLER</div>
                    <div class="bg-orange-500 text-white text-xs font-bold px-4 py-2 text-center tracking-widest uppercase">Bester Kalkschutz</div>
                    <div class="p-8 flex-grow">
                        <div class="w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center text-orange-600 mb-6 text-2xl">
                            <i class="fa-solid fa-faucet-drip"></i>
                        </div>
                        <h3 class="font-bold text-2xl mb-2 text-slate-900 dark:text-white">Aqua Blue Home</h3>
                        <p class="text-sm text-slate-500 mb-6 font-bold">Kalkwandler & Filter</p>
                        <ul class="space-y-3 text-sm mb-8 text-slate-600 dark:text-slate-300">
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Schützt Rohre & Geräte massiv</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Weiches Wassergefühl (Haut/Haar)</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Wartungsfrei (Kein Salz)</li>
                        </ul>
                        <div class="text-3xl font-black text-slate-900 dark:text-white mb-6">ab 899€</div>
                        <a href="#" class="block w-full py-4 bg-orange-500 text-white text-center rounded-xl font-bold hover:bg-orange-600 transition shadow-lg shadow-orange-500/30">
                            Verfügbarkeit prüfen <i class="fa-solid fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <div class="bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 group hover:-translate-y-3 transition-all duration-300 flex flex-col">
                    <div class="bg-green-600 text-white text-xs font-bold px-4 py-2 text-center tracking-widest uppercase">Geschmacks-Sieger</div>
                    <div class="p-8 flex-grow">
                        <div class="w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center text-green-600 mb-6 text-2xl">
                            <i class="fa-solid fa-leaf"></i>
                        </div>
                        <h3 class="font-bold text-2xl mb-2 text-slate-900 dark:text-white">Lotus Vita Fontana</h3>
                        <p class="text-sm text-slate-500 mb-6 font-bold">Aktivkohle & Pi-Technologie</p>
                        <ul class="space-y-3 text-sm mb-8 text-slate-600 dark:text-slate-300">
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Perfekter, weicher Geschmack</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Filtert Chlor, Blei & Pestizide</li>
                            <li class="flex gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i> Günstiger Einstieg für Mieter</li>
                        </ul>
                        <div class="text-3xl font-black text-slate-900 dark:text-white mb-6">ab 329€</div>
                        <a href="https://www.lotus-vita.de/?ref=74674" target="_blank" class="block w-full py-4 bg-slate-900 dark:bg-white dark:text-slate-900 text-white text-center rounded-xl font-bold hover:bg-green-600 dark:hover:bg-green-500 hover:text-white transition shadow-lg">
                            Angebot prüfen <i class="fa-solid fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-slate-950 text-slate-400 py-12 border-t border-slate-900">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-4 gap-8 text-sm">
            <div>
                <div class="flex items-center gap-2 text-white font-black text-lg mb-4">
                    <i class="fa-solid fa-microscope text-brand-500"></i> TRINKWASSER Monitor
                </div>
                <p>Unabhängiges Informationsportal zur TrinkwV 2026. Datenaggregation aus öffentlichen Quellen.</p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Navigation</h4>
                <ul class="space-y-2">
                    <li><a href="#analysetool" class="hover:text-brand-500">Analyse</a></li>
                    <li><a href="#radar" class="hover:text-brand-500">Karte</a></li>
                    <li><a href="#affiliate" class="hover:text-brand-500">Shop</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Rechtliches</h4>
                <ul class="space-y-2">
                    <li><a href="#" class="hover:text-brand-500">Impressum</a></li>
                    <li><a href="#" class="hover:text-brand-500">Datenschutz</a></li>
                    <li><a href="#" class="hover:text-brand-500">Affiliate Disclosure</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Kontakt</h4>
                <p>Rolf Schwertfechter<br>Karklandsweg 1<br>26553 Dornum</p>
                <p class="mt-2 text-xs">© 2026 Trinkwasser Monitor.</p>
            </div>
        </div>
    </footer>

    <div id="notification-container" class="fixed top-24 right-6 z-[2100] flex flex-col gap-2 pointer-events-none"></div>

    <script>
        // --- CONFIG ---
        // Wenn du einen API Key hast, trag ihn hier ein. Sonst bleibt es leer (Smart-Modus).
        const API_KEY = ""; 
        const API_URL = "https://api.example.com/check";

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            initPFASMap();
            initLiveFeed();
            
            // Enter-Taste Support
            document.querySelectorAll('input').forEach(i => {
                i.addEventListener('keypress', e => { if (e.key === 'Enter') runRealAnalysis(); });
            });
        });

        // --- CORE ANALYSIS FUNCTION ---
        async function runRealAnalysis() {
            // 1. Eingabe holen
            const inputs = document.querySelectorAll('input[placeholder*="Postleitzahl"], input[placeholder*="PLZ"]');
            let plz = ""; 
            inputs.forEach(i => { if(i.value && i.value.length >= 4) plz = i.value; });
            
            if (!plz || plz.length < 5) {
                showNotification("Bitte gültige 5-stellige PLZ eingeben", "error");
                return;
            }
            
            // 2. UI Loading
            showNotification("Analysiere Datenbanken für " + plz + "...", "loading");
            document.getElementById('analysis-results').classList.remove('hidden');
            document.getElementById('analysis-loading').classList.remove('hidden');
            document.getElementById('analysetool').scrollIntoView({ behavior: 'smooth' });
            
            // Reset
            ['action-crit', 'action-ok', 'action-warn'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('ai-summary').innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> KI analysiert regionale Wasserdaten...';
            document.getElementById('results-plz').innerText = plz;

            // 3. DATEN LOGIK (Smart DB)
            let data = null;

            try {
                await new Promise(r => setTimeout(r, 1500)); // Spannung aufbauen

                if (API_KEY !== "") {
                    // Option A: Echte API
                    const res = await fetch(`${API_URL}?plz=${plz}&key=${API_KEY}`);
                    const json = await res.json();
                    data = { pfas: json.pfas, dH: json.hardness, city: json.city, nitrat: json.nitrate };
                } else {
                    // Option B: Interne DB (Großstädte + Hotspots)
                    const cityDB = {
                        '10115': { city: 'Berlin Mitte', dH: 17, pfas: 12 },
                        '10117': { city: 'Berlin', dH: 18, pfas: 11 },
                        '20095': { city: 'Hamburg', dH: 16, pfas: 9 },
                        '80331': { city: 'München', dH: 16, pfas: 14 },
                        '50667': { city: 'Köln', dH: 14, pfas: 13 },
                        '60311': { city: 'Frankfurt', dH: 14, pfas: 8 },
                        '70173': { city: 'Stuttgart', dH: 9, pfas: 5 }, 
                        '40213': { city: 'Düsseldorf', dH: 14, pfas: 15 },
                        '84503': { city: 'Altötting', dH: 18, pfas: 450 }, // Hotspot
                        '76437': { city: 'Rastatt', dH: 15, pfas: 42 }     // Hotspot
                    };

                    if (cityDB[plz]) {
                        // Treffer
                        data = { 
                            pfas: cityDB[plz].pfas, 
                            dH: cityDB[plz].dH, 
                            city: cityDB[plz].city, 
                            nitrat: 10 + Math.floor(Math.random() * 15) 
                        };
                    } else {
                        // Fallback Schätzung
                        const isHard = parseInt(plz[0]) <= 5;
                        data = {
                            pfas: Math.floor(Math.random() * 10) + 5,
                            dH: isHard ? (15 + Math.floor(Math.random() * 6)) : (10 + Math.floor(Math.random() * 5)),
                            city: 'Region ' + plz,
                            nitrat: Math.floor(Math.random() * 20) + 5
                        };
                    }
                }

                renderResults(data);

            } catch (e) {
                console.error(e);
                renderResults({ pfas: 10, dH: 14, city: "Unbekannt", nitrat: 10 });
            }
        }

        function renderResults(data) {
            document.getElementById('analysis-loading').classList.add('hidden');
            
            document.getElementById('results-city').innerText = data.city;
            document.getElementById('pfas-result').innerText = data.pfas + " ng/L";
            document.getElementById('pfas-bar').style.width = Math.min((data.pfas/20)*100, 100) + "%";
            document.getElementById('hardness-result').innerText = data.dH + " °dH";
            document.getElementById('nitrate-result').innerText = data.nitrat + " mg/L";

            // INTELLIGENTE EMPFEHLUNG
            let badgeText = "MITTEL";
            let badgeColor = "bg-yellow-500";
            let summary = "";

            if (data.pfas > 20) {
                // KRITISCH -> Osmose
                badgeText = "KRITISCH";
                badgeColor = "bg-red-600";
                document.getElementById('action-crit').classList.remove('hidden');
                summary = `ALARM: Grenzwertüberschreitung in ${data.city}. PFAS-Wert von ${data.pfas} ng/L ist gesundheitlich bedenklich. Sofortige Filterung empfohlen.`;
            } else if (data.dH > 14) {
                // HART -> Kalkschutz
                badgeText = "SEHR HART";
                badgeColor = "bg-orange-500";
                document.getElementById('action-warn').classList.remove('hidden');
                summary = `Ihr Wasser in ${data.city} ist mit ${data.dH} °dH sehr hart. Das schadet Rohren und Geräten massiv. Wir empfehlen einen Kalkschutz-Filter.`;
            } else {
                // OK -> Geschmack
                badgeText = "GUT";
                badgeColor = "bg-green-600";
                document.getElementById('action-ok').classList.remove('hidden');
                summary = `Wasserqualität in ${data.city} ist im Normbereich. Für optimalen Geschmack und Sicherheit vor Pestiziden empfehlen wir einen Aktivkohlefilter.`;
            }

            const badge = document.getElementById('risk-score-badge');
            badge.innerText = badgeText;
            badge.className = `text-white px-4 py-2 rounded-lg font-bold text-sm uppercase tracking-wide ${badgeColor}`;
            document.getElementById('ai-summary').innerText = summary;
            
            showNotification("Analyse erfolgreich!", "success");
        }

        // --- HELPERS ---
        function showNotification(msg, type) {
            const container = document.getElementById('notification-container');
            const el = document.createElement('div');
            const colors = { loading:'bg-brand-600', success:'bg-green-600', error:'bg-red-600' };
            el.className = `${colors[type] || 'bg-slate-800'} text-white px-6 py-3 rounded-xl shadow-lg text-sm font-bold transition-all duration-300 transform translate-x-64 mb-2`;
            el.innerHTML = type === 'loading' ? `<i class="fa-solid fa-spinner fa-spin mr-2"></i> ${msg}` : msg;
            container.appendChild(el);
            setTimeout(() => el.classList.remove('translate-x-64'), 10);
            setTimeout(() => el.remove(), 4000);
        }

        function scrollToSearch() { document.getElementById('analysetool').scrollIntoView({behavior:'smooth'}); }

        // --- MAP & FEED ---
        function initPFASMap() {
            if (typeof L === 'undefined' || !document.getElementById('pfas-map')) return;
            const map = L.map('pfas-map', { zoomControl: false, scrollWheelZoom: false }).setView([51.16, 10.45], 6);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { maxZoom: 19 }).addTo(map);
            
            const spots = [
                {lat:51.48, lng:7.22, col:'#ef4444', r:30000, n:'Ruhrgebiet'},
                {lat:48.16, lng:12.83, col:'#ef4444', r:25000, n:'Chemiedreieck (Altötting)'},
                {lat:52.52, lng:13.40, col:'#22c55e', r:15000, n:'Berlin'},
                {lat:48.77, lng:9.18, col:'#f97316', r:15000, n:'Stuttgart'},
                {lat:50.93, lng:6.96, col:'#f97316', r:18000, n:'Köln'}
            ];
            spots.forEach(s => {
                L.circle([s.lat, s.lng], {color:s.col, fillColor:s.col, fillOpacity:0.4, radius:s.r}).addTo(map)
                 .bindPopup(`<b>${s.n}</b><br>Daten verfügbar`);
            });
        }

        function initLiveFeed() {
            const feed = document.getElementById('live-feed');
            const news = [
                {t:'WARNUNG', m:'Altötting (BY): PFOA Grenzwert überschritten', c:'text-red-500', bg:'bg-red-50'},
                {t:'INFO', m:'UBA Update: Neue Messdaten Q2/2024 online', c:'text-brand-500', bg:'bg-brand-50'},
                {t:'ALERT', m:'Rastatt (BW): Belastung im Grundwasser bestätigt', c:'text-orange-500', bg:'bg-orange-50'}
            ];
            news.forEach(n => {
                feed.innerHTML += `<div class="p-3 ${n.bg} dark:bg-slate-700/50 rounded-xl border border-slate-200 dark:border-slate-600 mb-2"><div class="font-bold ${n.c} text-xs tracking-wider">${n.t}</div><div class="text-slate-700 dark:text-slate-300 text-sm leading-tight mt-1">${n.m}</div></div>`;
            });
        }
    </script>
</body>
</html>
